{% extends "base.html" %}

{% block title %}Student Results Dashboard{% endblock %}

{% block header %}Student Results Dashboard{% endblock %}

{% block content %}
<!-- Overall Statistics -->
<div class="section">
    <h2>Overall Statistics</h2>
    <div class="stats-container">
        <div class="stat-card">
            <h3>Average Score</h3>
            <div class="stat-value">{{ "%.2f"|format(overall_stats.average_score) }}</div>
        </div>
        <div class="stat-card">
            <h3>Highest Score</h3>
            <div class="stat-value">{{ "%.2f"|format(overall_stats.highest_score) }}</div>
        </div>
        <div class="stat-card">
            <h3>Lowest Score</h3>
            <div class="stat-value">{{ "%.2f"|format(overall_stats.lowest_score) }}</div>
        </div>
        <div class="stat-card">
            <h3>Total Students</h3>
            <div class="stat-value">{{ overall_stats.total_students }}</div>
        </div>
        <div class="stat-card">
            <h3>Total Results</h3>
            <div class="stat-value">{{ overall_stats.total_results }}</div>
        </div>
    </div>
</div>

<!-- Student Performance -->
<div class="section">
    <h2>Student Performance</h2>
    <table>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Student Name</th>
                <th>Average Score</th>
                <th>Subjects Count</th>
            </tr>
        </thead>
        <tbody>
            {% for student in student_stats %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ student[0] }}</td>
                <td>{{ "%.2f"|format(student[1]) }}</td>
                <td>{{ student[2] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Subject Performance -->
<div class="section">
    <h2>Subject Performance</h2>
    <table>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Subject</th>
                <th>Average Score</th>
                <th>Students Count</th>
            </tr>
        </thead>
        <tbody>
            {% for subject in subject_stats %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ subject[0] }}</td>
                <td>{{ "%.2f"|format(subject[1]) }}</td>
                <td>{{ subject[2] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}